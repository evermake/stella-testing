import{createRequire as E0} from"node:module";var D0=Object.create;var{defineProperty:i,getPrototypeOf:V0,getOwnPropertyNames:I0}=Object;var S0=Object.prototype.hasOwnProperty;var N0=($,q,z)=>{z=$!=null?D0(V0($)):{};const J=q||!$||!$.__esModule?i(z,"default",{value:$,enumerable:!0}):z;for(let Q of I0($))if(!S0.call(J,Q))i(J,Q,{get:()=>$[Q],enumerable:!0});return J};var V=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports);var N=E0(import.meta.url);var E=V((w0)=>{class b extends Error{constructor($,q,z){super(z);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=q,this.exitCode=$,this.nestedError=void 0}}class s extends b{constructor($){super(1,"commander.invalidArgument",$);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}w0.CommanderError=b;w0.InvalidArgumentError=s});var A=V((C0)=>{var O0=function($){const q=$.name()+($.variadic===!0?"...":"");return $.required?"<"+q+">":"["+q+"]"},{InvalidArgumentError:k0}=E();class r{constructor($,q){switch(this.description=q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,$[0]){case"<":this.required=!0,this._name=$.slice(1,-1);break;case"[":this.required=!1,this._name=$.slice(1,-1);break;default:this.required=!0,this._name=$;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue($,q){if(q===this.defaultValue||!Array.isArray(q))return[$];return q.concat($)}default($,q){return this.defaultValue=$,this.defaultValueDescription=q,this}argParser($){return this.parseArg=$,this}choices($){return this.argChoices=$.slice(),this.parseArg=(q,z)=>{if(!this.argChoices.includes(q))throw new k0(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(q,z);return q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}C0.Argument=r;C0.humanReadableArgName=O0});var f=V((x0)=>{var{humanReadableArgName:f0}=A();class t{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands($){const q=$.commands.filter((z)=>!z._hidden);if($._hasImplicitHelpCommand()){const[,z,J]=$._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),Q=$.createCommand(z).helpOption(!1);if(Q.description($._helpCommandDescription),J)Q.arguments(J);q.push(Q)}if(this.sortSubcommands)q.sort((z,J)=>{return z.name().localeCompare(J.name())});return q}compareOptions($,q){const z=(J)=>{return J.short?J.short.replace(/^-/,""):J.long.replace(/^--/,"")};return z($).localeCompare(z(q))}visibleOptions($){const q=$.options.filter((Q)=>!Q.hidden),z=$._hasHelpOption&&$._helpShortFlag&&!$._findOption($._helpShortFlag),J=$._hasHelpOption&&!$._findOption($._helpLongFlag);if(z||J){let Q;if(!z)Q=$.createOption($._helpLongFlag,$._helpDescription);else if(!J)Q=$.createOption($._helpShortFlag,$._helpDescription);else Q=$.createOption($._helpFlags,$._helpDescription);q.push(Q)}if(this.sortOptions)q.sort(this.compareOptions);return q}visibleGlobalOptions($){if(!this.showGlobalOptions)return[];const q=[];for(let z=$.parent;z;z=z.parent){const J=z.options.filter((Q)=>!Q.hidden);q.push(...J)}if(this.sortOptions)q.sort(this.compareOptions);return q}visibleArguments($){if($._argsDescription)$.registeredArguments.forEach((q)=>{q.description=q.description||$._argsDescription[q.name()]||""});if($.registeredArguments.find((q)=>q.description))return $.registeredArguments;return[]}subcommandTerm($){const q=$.registeredArguments.map((z)=>f0(z)).join(" ");return $._name+($._aliases[0]?"|"+$._aliases[0]:"")+($.options.length?" [options]":"")+(q?" "+q:"")}optionTerm($){return $.flags}argumentTerm($){return $.name()}longestSubcommandTermLength($,q){return q.visibleCommands($).reduce((z,J)=>{return Math.max(z,q.subcommandTerm(J).length)},0)}longestOptionTermLength($,q){return q.visibleOptions($).reduce((z,J)=>{return Math.max(z,q.optionTerm(J).length)},0)}longestGlobalOptionTermLength($,q){return q.visibleGlobalOptions($).reduce((z,J)=>{return Math.max(z,q.optionTerm(J).length)},0)}longestArgumentTermLength($,q){return q.visibleArguments($).reduce((z,J)=>{return Math.max(z,q.argumentTerm(J).length)},0)}commandUsage($){let q=$._name;if($._aliases[0])q=q+"|"+$._aliases[0];let z="";for(let J=$.parent;J;J=J.parent)z=J.name()+" "+z;return z+q+" "+$.usage()}commandDescription($){return $.description()}subcommandDescription($){return $.summary()||$.description()}optionDescription($){const q=[];if($.argChoices)q.push(`choices: ${$.argChoices.map((z)=>JSON.stringify(z)).join(", ")}`);if($.defaultValue!==void 0){if($.required||$.optional||$.isBoolean()&&typeof $.defaultValue==="boolean")q.push(`default: ${$.defaultValueDescription||JSON.stringify($.defaultValue)}`)}if($.presetArg!==void 0&&$.optional)q.push(`preset: ${JSON.stringify($.presetArg)}`);if($.envVar!==void 0)q.push(`env: ${$.envVar}`);if(q.length>0)return`${$.description} (${q.join(", ")})`;return $.description}argumentDescription($){const q=[];if($.argChoices)q.push(`choices: ${$.argChoices.map((z)=>JSON.stringify(z)).join(", ")}`);if($.defaultValue!==void 0)q.push(`default: ${$.defaultValueDescription||JSON.stringify($.defaultValue)}`);if(q.length>0){const z=`(${q.join(", ")})`;if($.description)return`${$.description} ${z}`;return z}return $.description}formatHelp($,q){const z=q.padWidth($,q),J=q.helpWidth||80;function G(_,j){if(j){const y=`${_.padEnd(z+2)}${j}`;return q.wrap(y,J-2,z+2)}return _}function X(_){return _.join("\n").replace(/^/gm," ".repeat(2))}let B=[`Usage: ${q.commandUsage($)}`,""];const W=q.commandDescription($);if(W.length>0)B=B.concat([q.wrap(W,J,0),""]);const U=q.visibleArguments($).map((_)=>{return G(q.argumentTerm(_),q.argumentDescription(_))});if(U.length>0)B=B.concat(["Arguments:",X(U),""]);const K=q.visibleOptions($).map((_)=>{return G(q.optionTerm(_),q.optionDescription(_))});if(K.length>0)B=B.concat(["Options:",X(K),""]);if(this.showGlobalOptions){const _=q.visibleGlobalOptions($).map((j)=>{return G(q.optionTerm(j),q.optionDescription(j))});if(_.length>0)B=B.concat(["Global Options:",X(_),""])}const D=q.visibleCommands($).map((_)=>{return G(q.subcommandTerm(_),q.subcommandDescription(_))});if(D.length>0)B=B.concat(["Commands:",X(D),""]);return B.join("\n")}padWidth($,q){return Math.max(q.longestOptionTermLength($,q),q.longestGlobalOptionTermLength($,q),q.longestSubcommandTermLength($,q),q.longestArgumentTermLength($,q))}wrap($,q,z,J=40){const Z=new RegExp(`[\\n][${" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF"}]+`);if($.match(Z))return $;const G=q-z;if(G<J)return $;const X=$.slice(0,z),B=$.slice(z).replace("\r\n","\n"),W=" ".repeat(z),K=`\\s${"\u200B"}`,D=new RegExp(`\n|.{1,${G-1}}([${K}]|\$)|[^${K}]+?([${K}]|\$)`,"g"),_=B.match(D)||[];return X+_.map((j,y)=>{if(j==="\n")return"";return(y>0?W:"")+j.trimEnd()}).join("\n")}}x0.Help=t});var x=V((g0)=>{var u0=function($){return $.split("-").reduce((q,z)=>{return q+z[0].toUpperCase()+z.slice(1)})},o=function($){let q,z;const J=$.split(/[ |,]+/);if(J.length>1&&!/^[[<]/.test(J[1]))q=J.shift();if(z=J.shift(),!q&&/^-[^-]$/.test(z))q=z,z=void 0;return{shortFlag:q,longFlag:z}},{InvalidArgumentError:v0}=E();class a{constructor($,q){this.flags=$,this.description=q||"",this.required=$.includes("<"),this.optional=$.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test($),this.mandatory=!1;const z=o($);if(this.short=z.shortFlag,this.long=z.longFlag,this.negate=!1,this.long)this.negate=this.long.startsWith("--no-");this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default($,q){return this.defaultValue=$,this.defaultValueDescription=q,this}preset($){return this.presetArg=$,this}conflicts($){return this.conflictsWith=this.conflictsWith.concat($),this}implies($){let q=$;if(typeof $==="string")q={[$]:!0};return this.implied=Object.assign(this.implied||{},q),this}env($){return this.envVar=$,this}argParser($){return this.parseArg=$,this}makeOptionMandatory($=!0){return this.mandatory=!!$,this}hideHelp($=!0){return this.hidden=!!$,this}_concatValue($,q){if(q===this.defaultValue||!Array.isArray(q))return[$];return q.concat($)}choices($){return this.argChoices=$.slice(),this.parseArg=(q,z)=>{if(!this.argChoices.includes(q))throw new v0(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(q,z);return q},this}name(){if(this.long)return this.long.replace(/^--/,"");return this.short.replace(/^-/,"")}attributeName(){return u0(this.name().replace(/^no-/,""))}is($){return this.short===$||this.long===$}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class n{constructor($){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,$.forEach((q)=>{if(q.negate)this.negativeOptions.set(q.attributeName(),q);else this.positiveOptions.set(q.attributeName(),q)}),this.negativeOptions.forEach((q,z)=>{if(this.positiveOptions.has(z))this.dualOptions.add(z)})}valueFromOption($,q){const z=q.attributeName();if(!this.dualOptions.has(z))return!0;const J=this.negativeOptions.get(z).presetArg,Q=J!==void 0?J:!1;return q.negate===(Q===$)}}g0.Option=a;g0.splitOptionFlags=o;g0.DualOptions=n});var e=V((i0)=>{var l0=function($,q){if(Math.abs($.length-q.length)>3)return Math.max($.length,q.length);const z=[];for(let J=0;J<=$.length;J++)z[J]=[J];for(let J=0;J<=q.length;J++)z[0][J]=J;for(let J=1;J<=q.length;J++)for(let Q=1;Q<=$.length;Q++){let Z=1;if($[Q-1]===q[J-1])Z=0;else Z=1;if(z[Q][J]=Math.min(z[Q-1][J]+1,z[Q][J-1]+1,z[Q-1][J-1]+Z),Q>1&&J>1&&$[Q-1]===q[J-2]&&$[Q-2]===q[J-1])z[Q][J]=Math.min(z[Q][J],z[Q-2][J-2]+1)}return z[$.length][q.length]},p0=function($,q){if(!q||q.length===0)return"";q=Array.from(new Set(q));const z=$.startsWith("--");if(z)$=$.slice(2),q=q.map((G)=>G.slice(2));let J=[],Q=3;const Z=0.4;if(q.forEach((G)=>{if(G.length<=1)return;const X=l0($,G),B=Math.max($.length,G.length);if((B-X)/B>Z){if(X<Q)Q=X,J=[G];else if(X===Q)J.push(G)}}),J.sort((G,X)=>G.localeCompare(X)),z)J=J.map((G)=>`--${G}`);if(J.length>1)return`\n(Did you mean one of ${J.join(", ")}?)`;if(J.length===1)return`\n(Did you mean ${J[0]}?)`;return""};i0.suggestSimilar=p0});var Q0=V(($1)=>{var z0=function($,q){if($._hasHelpOption&&q.find((J)=>J===$._helpLongFlag||J===$._helpShortFlag))$.outputHelp(),$._exit(0,"commander.helpDisplayed","(outputHelp)")},J0=function($){return $.map((q)=>{if(!q.startsWith("--inspect"))return q;let z,J="127.0.0.1",Q="9229",Z;if((Z=q.match(/^(--inspect(-brk)?)$/))!==null)z=Z[1];else if((Z=q.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null)if(z=Z[1],/^\d+$/.test(Z[3]))Q=Z[3];else J=Z[3];else if((Z=q.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null)z=Z[1],J=Z[3],Q=Z[4];if(z&&Q!=="0")return`${z}=${J}:${parseInt(Q)+1}`;return q})},r0=N("events").EventEmitter,h=N("child_process"),R=N("path"),v=N("fs"),Y=N("process"),{Argument:t0,humanReadableArgName:a0}=A(),{CommanderError:u}=E(),{Help:n0}=f(),{Option:$0,splitOptionFlags:o0,DualOptions:e0}=x(),{suggestSimilar:q0}=e();class g extends r0{constructor($){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=$||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:(q)=>Y.stdout.write(q),writeErr:(q)=>Y.stderr.write(q),getOutHelpWidth:()=>Y.stdout.isTTY?Y.stdout.columns:void 0,getErrHelpWidth:()=>Y.stderr.isTTY?Y.stderr.columns:void 0,outputError:(q,z)=>z(q)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings($){return this._outputConfiguration=$._outputConfiguration,this._hasHelpOption=$._hasHelpOption,this._helpFlags=$._helpFlags,this._helpDescription=$._helpDescription,this._helpShortFlag=$._helpShortFlag,this._helpLongFlag=$._helpLongFlag,this._helpCommandName=$._helpCommandName,this._helpCommandnameAndArgs=$._helpCommandnameAndArgs,this._helpCommandDescription=$._helpCommandDescription,this._helpConfiguration=$._helpConfiguration,this._exitCallback=$._exitCallback,this._storeOptionsAsProperties=$._storeOptionsAsProperties,this._combineFlagAndOptionalValue=$._combineFlagAndOptionalValue,this._allowExcessArguments=$._allowExcessArguments,this._enablePositionalOptions=$._enablePositionalOptions,this._showHelpAfterError=$._showHelpAfterError,this._showSuggestionAfterError=$._showSuggestionAfterError,this}_getCommandAndAncestors(){const $=[];for(let q=this;q;q=q.parent)$.push(q);return $}command($,q,z){let J=q,Q=z;if(typeof J==="object"&&J!==null)Q=J,J=null;Q=Q||{};const[,Z,G]=$.match(/([^ ]+) *(.*)/),X=this.createCommand(Z);if(J)X.description(J),X._executableHandler=!0;if(Q.isDefault)this._defaultCommandName=X._name;if(X._hidden=!!(Q.noHelp||Q.hidden),X._executableFile=Q.executableFile||null,G)X.arguments(G);if(this.commands.push(X),X.parent=this,X.copyInheritedSettings(this),J)return this;return X}createCommand($){return new g($)}createHelp(){return Object.assign(new n0,this.configureHelp())}configureHelp($){if($===void 0)return this._helpConfiguration;return this._helpConfiguration=$,this}configureOutput($){if($===void 0)return this._outputConfiguration;return Object.assign(this._outputConfiguration,$),this}showHelpAfterError($=!0){if(typeof $!=="string")$=!!$;return this._showHelpAfterError=$,this}showSuggestionAfterError($=!0){return this._showSuggestionAfterError=!!$,this}addCommand($,q){if(!$._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);if(q=q||{},q.isDefault)this._defaultCommandName=$._name;if(q.noHelp||q.hidden)$._hidden=!0;return this.commands.push($),$.parent=this,this}createArgument($,q){return new t0($,q)}argument($,q,z,J){const Q=this.createArgument($,q);if(typeof z==="function")Q.default(J).argParser(z);else Q.default(z);return this.addArgument(Q),this}arguments($){return $.trim().split(/ +/).forEach((q)=>{this.argument(q)}),this}addArgument($){const q=this.registeredArguments.slice(-1)[0];if(q&&q.variadic)throw new Error(`only the last argument can be variadic '${q.name()}'`);if($.required&&$.defaultValue!==void 0&&$.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${$.name()}'`);return this.registeredArguments.push($),this}addHelpCommand($,q){if($===!1)this._addImplicitHelpCommand=!1;else{if(this._addImplicitHelpCommand=!0,typeof $==="string")this._helpCommandName=$.split(" ")[0],this._helpCommandnameAndArgs=$;this._helpCommandDescription=q||this._helpCommandDescription}return this}_hasImplicitHelpCommand(){if(this._addImplicitHelpCommand===void 0)return this.commands.length&&!this._actionHandler&&!this._findCommand("help");return this._addImplicitHelpCommand}hook($,q){const z=["preSubcommand","preAction","postAction"];if(!z.includes($))throw new Error(`Unexpected value for event passed to hook : '${$}'.
Expecting one of '${z.join("', '")}'`);if(this._lifeCycleHooks[$])this._lifeCycleHooks[$].push(q);else this._lifeCycleHooks[$]=[q];return this}exitOverride($){if($)this._exitCallback=$;else this._exitCallback=(q)=>{if(q.code!=="commander.executeSubCommandAsync")throw q};return this}_exit($,q,z){if(this._exitCallback)this._exitCallback(new u($,q,z));Y.exit($)}action($){const q=(z)=>{const J=this.registeredArguments.length,Q=z.slice(0,J);if(this._storeOptionsAsProperties)Q[J]=this;else Q[J]=this.opts();return Q.push(this),$.apply(this,Q)};return this._actionHandler=q,this}createOption($,q){return new $0($,q)}_callParseArg($,q,z,J){try{return $.parseArg(q,z)}catch(Q){if(Q.code==="commander.invalidArgument"){const Z=`${J} ${Q.message}`;this.error(Z,{exitCode:Q.exitCode,code:Q.code})}throw Q}}addOption($){const q=$.name(),z=$.attributeName();if($.negate){const Q=$.long.replace(/^--no-/,"--");if(!this._findOption(Q))this.setOptionValueWithSource(z,$.defaultValue===void 0?!0:$.defaultValue,"default")}else if($.defaultValue!==void 0)this.setOptionValueWithSource(z,$.defaultValue,"default");this.options.push($);const J=(Q,Z,G)=>{if(Q==null&&$.presetArg!==void 0)Q=$.presetArg;const X=this.getOptionValue(z);if(Q!==null&&$.parseArg)Q=this._callParseArg($,Q,X,Z);else if(Q!==null&&$.variadic)Q=$._concatValue(Q,X);if(Q==null)if($.negate)Q=!1;else if($.isBoolean()||$.optional)Q=!0;else Q="";this.setOptionValueWithSource(z,Q,G)};if(this.on("option:"+q,(Q)=>{const Z=`error: option '${$.flags}' argument '${Q}' is invalid.`;J(Q,Z,"cli")}),$.envVar)this.on("optionEnv:"+q,(Q)=>{const Z=`error: option '${$.flags}' value '${Q}' from env '${$.envVar}' is invalid.`;J(Q,Z,"env")});return this}_optionEx($,q,z,J,Q){if(typeof q==="object"&&q instanceof $0)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const Z=this.createOption(q,z);if(Z.makeOptionMandatory(!!$.mandatory),typeof J==="function")Z.default(Q).argParser(J);else if(J instanceof RegExp){const G=J;J=(X,B)=>{const W=G.exec(X);return W?W[0]:B},Z.default(Q).argParser(J)}else Z.default(J);return this.addOption(Z)}option($,q,z,J){return this._optionEx({},$,q,z,J)}requiredOption($,q,z,J){return this._optionEx({mandatory:!0},$,q,z,J)}combineFlagAndOptionalValue($=!0){return this._combineFlagAndOptionalValue=!!$,this}allowUnknownOption($=!0){return this._allowUnknownOption=!!$,this}allowExcessArguments($=!0){return this._allowExcessArguments=!!$,this}enablePositionalOptions($=!0){return this._enablePositionalOptions=!!$,this}passThroughOptions($=!0){if(this._passThroughOptions=!!$,!!this.parent&&$&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties($=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!$,this}getOptionValue($){if(this._storeOptionsAsProperties)return this[$];return this._optionValues[$]}setOptionValue($,q){return this.setOptionValueWithSource($,q,void 0)}setOptionValueWithSource($,q,z){if(this._storeOptionsAsProperties)this[$]=q;else this._optionValues[$]=q;return this._optionValueSources[$]=z,this}getOptionValueSource($){return this._optionValueSources[$]}getOptionValueSourceWithGlobals($){let q;return this._getCommandAndAncestors().forEach((z)=>{if(z.getOptionValueSource($)!==void 0)q=z.getOptionValueSource($)}),q}_prepareUserArgs($,q){if($!==void 0&&!Array.isArray($))throw new Error("first parameter to parse must be array or undefined");if(q=q||{},$===void 0){if($=Y.argv,Y.versions&&Y.versions.electron)q.from="electron"}this.rawArgs=$.slice();let z;switch(q.from){case void 0:case"node":this._scriptPath=$[1],z=$.slice(2);break;case"electron":if(Y.defaultApp)this._scriptPath=$[1],z=$.slice(2);else z=$.slice(1);break;case"user":z=$.slice(0);break;default:throw new Error(`unexpected parse option { from: '${q.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);return this._name=this._name||"program",z}parse($,q){const z=this._prepareUserArgs($,q);return this._parseCommand([],z),this}async parseAsync($,q){const z=this._prepareUserArgs($,q);return await this._parseCommand([],z),this}_executeSubCommand($,q){q=q.slice();let z=!1;const J=[".js",".ts",".tsx",".mjs",".cjs"];function Q(W,U){const K=R.resolve(W,U);if(v.existsSync(K))return K;if(J.includes(R.extname(U)))return;const D=J.find((_)=>v.existsSync(`${K}${_}`));if(D)return`${K}${D}`;return}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let Z=$._executableFile||`${this._name}-${$._name}`,G=this._executableDir||"";if(this._scriptPath){let W;try{W=v.realpathSync(this._scriptPath)}catch(U){W=this._scriptPath}G=R.resolve(R.dirname(W),G)}if(G){let W=Q(G,Z);if(!W&&!$._executableFile&&this._scriptPath){const U=R.basename(this._scriptPath,R.extname(this._scriptPath));if(U!==this._name)W=Q(G,`${U}-${$._name}`)}Z=W||Z}z=J.includes(R.extname(Z));let X;if(Y.platform!=="win32")if(z)q.unshift(Z),q=J0(Y.execArgv).concat(q),X=h.spawn(Y.argv[0],q,{stdio:"inherit"});else X=h.spawn(Z,q,{stdio:"inherit"});else q.unshift(Z),q=J0(Y.execArgv).concat(q),X=h.spawn(Y.execPath,q,{stdio:"inherit"});if(!X.killed)["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((U)=>{Y.on(U,()=>{if(X.killed===!1&&X.exitCode===null)X.kill(U)})});const B=this._exitCallback;if(!B)X.on("close",Y.exit.bind(Y));else X.on("close",()=>{B(new u(Y.exitCode||0,"commander.executeSubCommandAsync","(close)"))});X.on("error",(W)=>{if(W.code==="ENOENT"){const U=G?`searched for local subcommand relative to directory '${G}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",K=`'${Z}' does not exist
 - if '${$._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${U}`;throw new Error(K)}else if(W.code==="EACCES")throw new Error(`'${Z}' not executable`);if(!B)Y.exit(1);else{const U=new u(1,"commander.executeSubCommandAsync","(error)");U.nestedError=W,B(U)}}),this.runningCommand=X}_dispatchSubcommand($,q,z){const J=this._findCommand($);if(!J)this.help({error:!0});let Q;return Q=this._chainOrCallSubCommandHook(Q,J,"preSubcommand"),Q=this._chainOrCall(Q,()=>{if(J._executableHandler)this._executeSubCommand(J,q.concat(z));else return J._parseCommand(q,z)}),Q}_dispatchHelpCommand($){if(!$)this.help();const q=this._findCommand($);if(q&&!q._executableHandler)q.help();return this._dispatchSubcommand($,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){if(this.registeredArguments.forEach(($,q)=>{if($.required&&this.args[q]==null)this.missingArgument($.name())}),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)return;if(this.args.length>this.registeredArguments.length)this._excessArguments(this.args)}_processArguments(){const $=(z,J,Q)=>{let Z=J;if(J!==null&&z.parseArg){const G=`error: command-argument value '${J}' is invalid for argument '${z.name()}'.`;Z=this._callParseArg(z,J,Q,G)}return Z};this._checkNumberOfArguments();const q=[];this.registeredArguments.forEach((z,J)=>{let Q=z.defaultValue;if(z.variadic){if(J<this.args.length){if(Q=this.args.slice(J),z.parseArg)Q=Q.reduce((Z,G)=>{return $(z,G,Z)},z.defaultValue)}else if(Q===void 0)Q=[]}else if(J<this.args.length){if(Q=this.args[J],z.parseArg)Q=$(z,Q,z.defaultValue)}q[J]=Q}),this.processedArgs=q}_chainOrCall($,q){if($&&$.then&&typeof $.then==="function")return $.then(()=>q());return q()}_chainOrCallHooks($,q){let z=$;const J=[];if(this._getCommandAndAncestors().reverse().filter((Q)=>Q._lifeCycleHooks[q]!==void 0).forEach((Q)=>{Q._lifeCycleHooks[q].forEach((Z)=>{J.push({hookedCommand:Q,callback:Z})})}),q==="postAction")J.reverse();return J.forEach((Q)=>{z=this._chainOrCall(z,()=>{return Q.callback(Q.hookedCommand,this)})}),z}_chainOrCallSubCommandHook($,q,z){let J=$;if(this._lifeCycleHooks[z]!==void 0)this._lifeCycleHooks[z].forEach((Q)=>{J=this._chainOrCall(J,()=>{return Q(this,q)})});return J}_parseCommand($,q){const z=this.parseOptions(q);if(this._parseOptionsEnv(),this._parseOptionsImplied(),$=$.concat(z.operands),q=z.unknown,this.args=$.concat(q),$&&this._findCommand($[0]))return this._dispatchSubcommand($[0],$.slice(1),q);if(this._hasImplicitHelpCommand()&&$[0]===this._helpCommandName)return this._dispatchHelpCommand($[1]);if(this._defaultCommandName)return z0(this,q),this._dispatchSubcommand(this._defaultCommandName,$,q);if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName)this.help({error:!0});z0(this,z.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const J=()=>{if(z.unknown.length>0)this.unknownOption(z.unknown[0])},Q=`command:${this.name()}`;if(this._actionHandler){J(),this._processArguments();let Z;if(Z=this._chainOrCallHooks(Z,"preAction"),Z=this._chainOrCall(Z,()=>this._actionHandler(this.processedArgs)),this.parent)Z=this._chainOrCall(Z,()=>{this.parent.emit(Q,$,q)});return Z=this._chainOrCallHooks(Z,"postAction"),Z}if(this.parent&&this.parent.listenerCount(Q))J(),this._processArguments(),this.parent.emit(Q,$,q);else if($.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",$,q);if(this.listenerCount("command:*"))this.emit("command:*",$,q);else if(this.commands.length)this.unknownCommand();else J(),this._processArguments()}else if(this.commands.length)J(),this.help({error:!0});else J(),this._processArguments()}_findCommand($){if(!$)return;return this.commands.find((q)=>q._name===$||q._aliases.includes($))}_findOption($){return this.options.find((q)=>q.is($))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(($)=>{$.options.forEach((q)=>{if(q.mandatory&&$.getOptionValue(q.attributeName())===void 0)$.missingMandatoryOptionValue(q)})})}_checkForConflictingLocalOptions(){const $=this.options.filter((z)=>{const J=z.attributeName();if(this.getOptionValue(J)===void 0)return!1;return this.getOptionValueSource(J)!=="default"});$.filter((z)=>z.conflictsWith.length>0).forEach((z)=>{const J=$.find((Q)=>z.conflictsWith.includes(Q.attributeName()));if(J)this._conflictingOption(z,J)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(($)=>{$._checkForConflictingLocalOptions()})}parseOptions($){const q=[],z=[];let J=q;const Q=$.slice();function Z(X){return X.length>1&&X[0]==="-"}let G=null;while(Q.length){const X=Q.shift();if(X==="--"){if(J===z)J.push(X);J.push(...Q);break}if(G&&!Z(X)){this.emit(`option:${G.name()}`,X);continue}if(G=null,Z(X)){const B=this._findOption(X);if(B){if(B.required){const W=Q.shift();if(W===void 0)this.optionMissingArgument(B);this.emit(`option:${B.name()}`,W)}else if(B.optional){let W=null;if(Q.length>0&&!Z(Q[0]))W=Q.shift();this.emit(`option:${B.name()}`,W)}else this.emit(`option:${B.name()}`);G=B.variadic?B:null;continue}}if(X.length>2&&X[0]==="-"&&X[1]!=="-"){const B=this._findOption(`-${X[1]}`);if(B){if(B.required||B.optional&&this._combineFlagAndOptionalValue)this.emit(`option:${B.name()}`,X.slice(2));else this.emit(`option:${B.name()}`),Q.unshift(`-${X.slice(2)}`);continue}}if(/^--[^=]+=/.test(X)){const B=X.indexOf("="),W=this._findOption(X.slice(0,B));if(W&&(W.required||W.optional)){this.emit(`option:${W.name()}`,X.slice(B+1));continue}}if(Z(X))J=z;if((this._enablePositionalOptions||this._passThroughOptions)&&q.length===0&&z.length===0){if(this._findCommand(X)){if(q.push(X),Q.length>0)z.push(...Q);break}else if(X===this._helpCommandName&&this._hasImplicitHelpCommand()){if(q.push(X),Q.length>0)q.push(...Q);break}else if(this._defaultCommandName){if(z.push(X),Q.length>0)z.push(...Q);break}}if(this._passThroughOptions){if(J.push(X),Q.length>0)J.push(...Q);break}J.push(X)}return{operands:q,unknown:z}}opts(){if(this._storeOptionsAsProperties){const $={},q=this.options.length;for(let z=0;z<q;z++){const J=this.options[z].attributeName();$[J]=J===this._versionOptionName?this._version:this[J]}return $}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(($,q)=>Object.assign($,q.opts()),{})}error($,q){if(this._outputConfiguration.outputError(`${$}\n`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError==="string")this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`);else if(this._showHelpAfterError)this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0});const z=q||{},J=z.exitCode||1,Q=z.code||"commander.error";this._exit(J,Q,$)}_parseOptionsEnv(){this.options.forEach(($)=>{if($.envVar&&$.envVar in Y.env){const q=$.attributeName();if(this.getOptionValue(q)===void 0||["default","config","env"].includes(this.getOptionValueSource(q)))if($.required||$.optional)this.emit(`optionEnv:${$.name()}`,Y.env[$.envVar]);else this.emit(`optionEnv:${$.name()}`)}})}_parseOptionsImplied(){const $=new e0(this.options),q=(z)=>{return this.getOptionValue(z)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(z))};this.options.filter((z)=>z.implied!==void 0&&q(z.attributeName())&&$.valueFromOption(this.getOptionValue(z.attributeName()),z)).forEach((z)=>{Object.keys(z.implied).filter((J)=>!q(J)).forEach((J)=>{this.setOptionValueWithSource(J,z.implied[J],"implied")})})}missingArgument($){const q=`error: missing required argument '${$}'`;this.error(q,{code:"commander.missingArgument"})}optionMissingArgument($){const q=`error: option '${$.flags}' argument missing`;this.error(q,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue($){const q=`error: required option '${$.flags}' not specified`;this.error(q,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption($,q){const z=(Z)=>{const G=Z.attributeName(),X=this.getOptionValue(G),B=this.options.find((U)=>U.negate&&G===U.attributeName()),W=this.options.find((U)=>!U.negate&&G===U.attributeName());if(B&&(B.presetArg===void 0&&X===!1||B.presetArg!==void 0&&X===B.presetArg))return B;return W||Z},J=(Z)=>{const G=z(Z),X=G.attributeName();if(this.getOptionValueSource(X)==="env")return`environment variable '${G.envVar}'`;return`option '${G.flags}'`},Q=`error: ${J($)} cannot be used with ${J(q)}`;this.error(Q,{code:"commander.conflictingOption"})}unknownOption($){if(this._allowUnknownOption)return;let q="";if($.startsWith("--")&&this._showSuggestionAfterError){let J=[],Q=this;do{const Z=Q.createHelp().visibleOptions(Q).filter((G)=>G.long).map((G)=>G.long);J=J.concat(Z),Q=Q.parent}while(Q&&!Q._enablePositionalOptions);q=q0($,J)}const z=`error: unknown option '${$}'${q}`;this.error(z,{code:"commander.unknownOption"})}_excessArguments($){if(this._allowExcessArguments)return;const q=this.registeredArguments.length,z=q===1?"":"s",Q=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${q} argument${z} but got ${$.length}.`;this.error(Q,{code:"commander.excessArguments"})}unknownCommand(){const $=this.args[0];let q="";if(this._showSuggestionAfterError){const J=[];this.createHelp().visibleCommands(this).forEach((Q)=>{if(J.push(Q.name()),Q.alias())J.push(Q.alias())}),q=q0($,J)}const z=`error: unknown command '${$}'${q}`;this.error(z,{code:"commander.unknownCommand"})}version($,q,z){if($===void 0)return this._version;this._version=$,q=q||"-V, --version",z=z||"output the version number";const J=this.createOption(q,z);return this._versionOptionName=J.attributeName(),this.options.push(J),this.on("option:"+J.name(),()=>{this._outputConfiguration.writeOut(`${$}\n`),this._exit(0,"commander.version",$)}),this}description($,q){if($===void 0&&q===void 0)return this._description;if(this._description=$,q)this._argsDescription=q;return this}summary($){if($===void 0)return this._summary;return this._summary=$,this}alias($){if($===void 0)return this._aliases[0];let q=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler)q=this.commands[this.commands.length-1];if($===q._name)throw new Error("Command alias can\'t be the same as its name");return q._aliases.push($),this}aliases($){if($===void 0)return this._aliases;return $.forEach((q)=>this.alias(q)),this}usage($){if($===void 0){if(this._usage)return this._usage;const q=this.registeredArguments.map((z)=>{return a0(z)});return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?q:[]).join(" ")}return this._usage=$,this}name($){if($===void 0)return this._name;return this._name=$,this}nameFromFilename($){return this._name=R.basename($,R.extname($)),this}executableDir($){if($===void 0)return this._executableDir;return this._executableDir=$,this}helpInformation($){const q=this.createHelp();if(q.helpWidth===void 0)q.helpWidth=$&&$.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth();return q.formatHelp(this,q)}_getHelpContext($){$=$||{};const q={error:!!$.error};let z;if(q.error)z=(J)=>this._outputConfiguration.writeErr(J);else z=(J)=>this._outputConfiguration.writeOut(J);return q.write=$.write||z,q.command=this,q}outputHelp($){let q;if(typeof $==="function")q=$,$=void 0;const z=this._getHelpContext($);this._getCommandAndAncestors().reverse().forEach((Q)=>Q.emit("beforeAllHelp",z)),this.emit("beforeHelp",z);let J=this.helpInformation(z);if(q){if(J=q(J),typeof J!=="string"&&!Buffer.isBuffer(J))throw new Error("outputHelp callback must return a string or a Buffer")}if(z.write(J),this._helpLongFlag)this.emit(this._helpLongFlag);this.emit("afterHelp",z),this._getCommandAndAncestors().forEach((Q)=>Q.emit("afterAllHelp",z))}helpOption($,q){if(typeof $==="boolean")return this._hasHelpOption=$,this;this._helpFlags=$||this._helpFlags,this._helpDescription=q||this._helpDescription;const z=o0(this._helpFlags);return this._helpShortFlag=z.shortFlag,this._helpLongFlag=z.longFlag,this}help($){this.outputHelp($);let q=Y.exitCode||0;if(q===0&&$&&typeof $!=="function"&&$.error)q=1;this._exit(q,"commander.help","(outputHelp)")}addHelpText($,q){const z=["beforeAll","before","after","afterAll"];if(!z.includes($))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${z.join("', '")}'`);const J=`${$}Help`;return this.on(J,(Q)=>{let Z;if(typeof q==="function")Z=q({error:Q.error,command:Q.command});else Z=q;if(Z)Q.write(`${Z}\n`)}),this}}$1.Command=g});var B0=V((P,G0)=>{var{Argument:z1}=A(),{Command:Z0}=Q0(),{CommanderError:J1,InvalidArgumentError:X0}=E(),{Help:Q1}=f(),{Option:Z1}=x();P=G0.exports=new Z0;P.program=P;P.Command=Z0;P.Option=Z1;P.Argument=z1;P.Help=Q1;P.CommanderError=J1;P.InvalidArgumentError=X0;P.InvalidOptionArgumentError=X0});import D1 from"node:path";import V1 from"node:fs";var W0=N0(B0(),1),{program:c,createCommand:f1,createArgument:x1,createOption:h1,CommanderError:v1,InvalidArgumentError:u1,InvalidOptionArgumentError:g1,Command:c1,Argument:m1,Option:d1,Help:l1}=W0.default;var B1=function(){const $=new Map;for(let[q,z]of Object.entries(H)){for(let[J,Q]of Object.entries(z))H[J]={open:`\x1B[${Q[0]}m`,close:`\x1B[${Q[1]}m`},z[J]=H[J],$.set(Q[0],Q[1]);Object.defineProperty(H,q,{value:z,enumerable:!1})}return Object.defineProperty(H,"codes",{value:$,enumerable:!1}),H.color.close="\x1B[39m",H.bgColor.close="\x1B[49m",H.color.ansi=U0(),H.color.ansi256=Y0(),H.color.ansi16m=H0(),H.bgColor.ansi=U0(10),H.bgColor.ansi256=Y0(10),H.bgColor.ansi16m=H0(10),Object.defineProperties(H,{rgbToAnsi256:{value(q,z,J){if(q===z&&z===J){if(q<8)return 16;if(q>248)return 231;return Math.round((q-8)/247*24)+232}return 16+36*Math.round(q/255*5)+6*Math.round(z/255*5)+Math.round(J/255*5)},enumerable:!1},hexToRgb:{value(q){const z=/[a-f\d]{6}|[a-f\d]{3}/i.exec(q.toString(16));if(!z)return[0,0,0];let[J]=z;if(J.length===3)J=[...J].map((Z)=>Z+Z).join("");const Q=Number.parseInt(J,16);return[Q>>16&255,Q>>8&255,Q&255]},enumerable:!1},hexToAnsi256:{value:(q)=>H.rgbToAnsi256(...H.hexToRgb(q)),enumerable:!1},ansi256ToAnsi:{value(q){if(q<8)return 30+q;if(q<16)return 90+(q-8);let z,J,Q;if(q>=232)z=((q-232)*10+8)/255,J=z,Q=z;else{q-=16;const X=q%36;z=Math.floor(q/36)/5,J=Math.floor(X/6)/5,Q=X%6/5}const Z=Math.max(z,J,Q)*2;if(Z===0)return 30;let G=30+(Math.round(Q)<<2|Math.round(J)<<1|Math.round(z));if(Z===2)G+=60;return G},enumerable:!1},rgbToAnsi:{value:(q,z,J)=>H.ansi256ToAnsi(H.rgbToAnsi256(q,z,J)),enumerable:!1},hexToAnsi:{value:(q)=>H.ansi256ToAnsi(H.hexToAnsi256(q)),enumerable:!1}}),H};var U0=($=0)=>(q)=>`\x1B[${q+$}m`,Y0=($=0)=>(q)=>`\x1B[${38+$};5;${q}m`,H0=($=0)=>(q,z,J)=>`\x1B[${38+$};2;${q};${z};${J}m`,H={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},i1=Object.keys(H.modifier),X1=Object.keys(H.color),G1=Object.keys(H.bgColor),s1=[...X1,...G1],W1=B1(),T=W1;import m from"node:process";import U1 from"node:os";import L0 from"node:tty";var M=function($,q=globalThis.Deno?globalThis.Deno.args:m.argv){const z=$.startsWith("-")?"":$.length===1?"-":"--",J=q.indexOf(z+$),Q=q.indexOf("--");return J!==-1&&(Q===-1||J<Q)},Y1=function(){if("FORCE_COLOR"in L){if(L.FORCE_COLOR==="true")return 1;if(L.FORCE_COLOR==="false")return 0;return L.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(L.FORCE_COLOR,10),3)}},H1=function($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}},L1=function($,{streamIsTTY:q,sniffFlags:z=!0}={}){const J=Y1();if(J!==void 0)k=J;const Q=z?k:J;if(Q===0)return 0;if(z){if(M("color=16m")||M("color=full")||M("color=truecolor"))return 3;if(M("color=256"))return 2}if("TF_BUILD"in L&&"AGENT_NAME"in L)return 1;if($&&!q&&Q===void 0)return 0;const Z=Q||0;if(L.TERM==="dumb")return Z;if(m.platform==="win32"){const G=U1.release().split(".");if(Number(G[0])>=10&&Number(G[2])>=10586)return Number(G[2])>=14931?3:2;return 1}if("CI"in L){if("GITHUB_ACTIONS"in L||"GITEA_ACTIONS"in L)return 3;if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((G)=>(G in L))||L.CI_NAME==="codeship")return 1;return Z}if("TEAMCITY_VERSION"in L)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(L.TEAMCITY_VERSION)?1:0;if(L.COLORTERM==="truecolor")return 3;if(L.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in L){const G=Number.parseInt((L.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(L.TERM_PROGRAM){case"iTerm.app":return G>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(L.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(L.TERM))return 1;if("COLORTERM"in L)return 1;return Z};function _0($,q={}){const z=L1($,{streamIsTTY:$&&$.isTTY,...q});return H1(z)}var{env:L}=m,k;if(M("no-color")||M("no-colors")||M("color=false")||M("color=never"))k=0;else if(M("color")||M("colors")||M("color=true")||M("color=always"))k=1;var _1={stdout:_0({isTTY:L0.isatty(1)}),stderr:_0({isTTY:L0.isatty(2)})},K0=_1;function M0($,q,z){let J=$.indexOf(q);if(J===-1)return $;const Q=q.length;let Z=0,G="";do G+=$.slice(Z,J)+q+z,Z=J+Q,J=$.indexOf(q,Z);while(J!==-1);return G+=$.slice(Z),G}function P0($,q,z,J){let Q=0,Z="";do{const G=$[J-1]==="\r";Z+=$.slice(Q,G?J-1:J)+q+(G?"\r\n":"\n")+z,Q=J+1,J=$.indexOf("\n",Q)}while(J!==-1);return Z+=$.slice(Q),Z}var F=function($){return M1($)};var{stdout:T0,stderr:R0}=K0,d=Symbol("GENERATOR"),I=Symbol("STYLER"),w=Symbol("IS_EMPTY"),j0=["ansi","ansi","ansi256","ansi16m"],S=Object.create(null),K1=($,q={})=>{if(q.level&&!(Number.isInteger(q.level)&&q.level>=0&&q.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const z=T0?T0.level:0;$.level=q.level===void 0?z:q.level};var M1=($)=>{const q=(...z)=>z.join(" ");return K1(q,$),Object.setPrototypeOf(q,F.prototype),q};Object.setPrototypeOf(F.prototype,Function.prototype);for(let[$,q]of Object.entries(T))S[$]={get(){const z=O(this,p(q.open,q.close,this[I]),this[w]);return Object.defineProperty(this,$,{value:z}),z}};S.visible={get(){const $=O(this,this[I],!0);return Object.defineProperty(this,"visible",{value:$}),$}};var l=($,q,z,...J)=>{if($==="rgb"){if(q==="ansi16m")return T[z].ansi16m(...J);if(q==="ansi256")return T[z].ansi256(T.rgbToAnsi256(...J));return T[z].ansi(T.rgbToAnsi(...J))}if($==="hex")return l("rgb",q,z,...T.hexToRgb(...J));return T[z][$](...J)},P1=["rgb","hex","ansi256"];for(let $ of P1){S[$]={get(){const{level:z}=this;return function(...J){const Q=p(l($,j0[z],"color",...J),T.color.close,this[I]);return O(this,Q,this[w])}}};const q="bg"+$[0].toUpperCase()+$.slice(1);S[q]={get(){const{level:z}=this;return function(...J){const Q=p(l($,j0[z],"bgColor",...J),T.bgColor.close,this[I]);return O(this,Q,this[w])}}}}var T1=Object.defineProperties(()=>{},{...S,level:{enumerable:!0,get(){return this[d].level},set($){this[d].level=$}}}),p=($,q,z)=>{let J,Q;if(z===void 0)J=$,Q=q;else J=z.openAll+$,Q=q+z.closeAll;return{open:$,close:q,openAll:J,closeAll:Q,parent:z}},O=($,q,z)=>{const J=(...Q)=>R1(J,Q.length===1?""+Q[0]:Q.join(" "));return Object.setPrototypeOf(J,T1),J[d]=$,J[I]=q,J[w]=z,J},R1=($,q)=>{if($.level<=0||!q)return $[w]?"":q;let z=$[I];if(z===void 0)return q;const{openAll:J,closeAll:Q}=z;if(q.includes("\x1B"))while(z!==void 0)q=M0(q,z.close,z.open),z=z.parent;const Z=q.indexOf("\n");if(Z!==-1)q=P0(q,Q,J,Z);return J+q+Q};Object.defineProperties(F.prototype,S);var j1=F(),J$=F({level:R0?R0.level:0});var C=j1;var S1=function($){if($.trim()==="")return{ok:!0};const q=$.match(I1);if(q)return{ok:!1,errorTag:q[1]};return{ok:null}},N1=function($){const q=S1($.expected);if(q.ok)return{passed:$.exitCode===0};else if(q.ok===null)return{passed:null};else{if($.exitCode===0)return{passed:!1};return{passed:`${$.actualStdout}\n${$.actualStderr}`.includes(q.errorTag)}}};async function E1(){c.name("print-report").argument("<report-path>","path to report").parse();const[$]=c.args,q=JSON.parse((await V1.promises.readFile(D1.resolve($))).toString());let z=0,J=0;Object.entries(q.testcases).sort(([Q],[Z])=>Q.localeCompare(Z)).forEach(([Q,Z])=>{const G=N1(Z);console.log(C.italic(Q)+":"+(G.passed?C.green(" \u2714"):C.red(" \u2718"))),z+=1,J+=G.passed?1:0}),console.log("================================="),console.log(`Total: ${J}/${z}`)}var I1=/\[(ERROR_(\w+))\]/i;E1();
